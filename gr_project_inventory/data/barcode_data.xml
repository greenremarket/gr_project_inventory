<odoo noupdate="1">
<record id="barcode_action_open_internal_inventory" model="ir.actions.server">
    <field name="name">Open Internal Inventory by Barcode</field>
    <field name="state">code</field>
    <field name="model_id" ref="model_gr_internal_inventory"/>
<field name="code"><![CDATA[
record = env['gr.internal.inventory'].search([('asset_tag', '=', barcode_val)], limit=1)
if record:
    action = {
        'type': 'ir.actions.act_window',
        'res_model': 'gr.internal.inventory',
        'view_mode': 'form',
        'res_id': record.id,
        'target': 'current',
    }
    action  # Make sure to return the action
]]></field>
</record>
</odoo>